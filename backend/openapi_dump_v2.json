{
  "openapi": "3.1.0",
  "info": {
    "title": "Hydro Sentinel",
    "version": "0.1.0"
  },
  "paths": {
    "/": {
      "get": {
        "summary": "Root",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/login/access-token": {
      "post": {
        "tags": [
          "login"
        ],
        "summary": "Login Access Token",
        "description": "OAuth2 compatible token login, get an access token for future requests",
        "operationId": "login_access_token_api_v1_login_access_token_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_login_access_token_api_v1_login_access_token_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/me": {
      "get": {
        "tags": [
          "login"
        ],
        "summary": "Read Users Me",
        "description": "Get current user.",
        "operationId": "read_users_me_api_v1_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/stations": {
      "get": {
        "tags": [
          "sites"
        ],
        "summary": "Read Stations",
        "description": "Retrieve stations (mapped to api.v_station).",
        "operationId": "read_stations_api_v1_stations_get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Station"
                  },
                  "title": "Response Read Stations Api V1 Stations Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/basins": {
      "get": {
        "tags": [
          "sites"
        ],
        "summary": "Read Basins",
        "description": "Retrieve basins (mapped to api.v_basin).",
        "operationId": "read_basins_api_v1_basins_get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Basin"
                  },
                  "title": "Response Read Basins Api V1 Basins Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/measurements/timeseries": {
      "get": {
        "tags": [
          "measurements"
        ],
        "summary": "Read Timeseries",
        "description": "Retrieve timeseries data from api.v_timeseries_station.\nSupports multiple variables via 'variables' parameter (comma-separated).",
        "operationId": "read_timeseries_api_v1_measurements_timeseries_get",
        "parameters": [
          {
            "name": "station_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Station Id"
            }
          },
          {
            "name": "variables",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Variables"
            }
          },
          {
            "name": "variable_code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Variable Code"
            }
          },
          {
            "name": "source_code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Source Code"
            }
          },
          {
            "name": "start",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start"
            }
          },
          {
            "name": "end",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TimeseriesPoint"
                  },
                  "title": "Response Read Timeseries Api V1 Measurements Timeseries Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/measurements/window/24h": {
      "get": {
        "tags": [
          "measurements"
        ],
        "summary": "Read Window 24H",
        "description": "Retrieve optimized 24h window (mocking api.v_window_station_24h_fast).\nFor prototype, we just query TimeseriesView with a 24h filter or similar logic.",
        "operationId": "read_window_24h_api_v1_measurements_window_24h_get",
        "parameters": [
          {
            "name": "station_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Station Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TimeseriesPoint"
                  },
                  "title": "Response Read Window 24H Api V1 Measurements Window 24H Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/measurements/compare": {
      "get": {
        "tags": [
          "measurements"
        ],
        "summary": "Get Compare",
        "description": "Get timeseries data grouped by source for the comparison chart.",
        "operationId": "get_compare_api_v1_measurements_compare_get",
        "parameters": [
          {
            "name": "station_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Station Id"
            }
          },
          {
            "name": "variable_code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Variable Code"
            }
          },
          {
            "name": "sources",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Sources"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "title": "Response Get Compare Api V1 Measurements Compare Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/measurements/runs": {
      "get": {
        "tags": [
          "measurements"
        ],
        "summary": "Get Runs",
        "description": "Get available runs for a source.",
        "operationId": "get_runs_api_v1_measurements_runs_get",
        "parameters": [
          {
            "name": "source_code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Source Code"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "title": "Response Get Runs Api V1 Measurements Runs Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/map/points-kpi": {
      "get": {
        "tags": [
          "dashboard"
        ],
        "summary": "Read Map Points Kpi",
        "description": "Get all stations with KPI for map display (api.v_map_points_kpi).",
        "operationId": "read_map_points_kpi_api_v1_map_points_kpi_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/MapKPIItem"
                  },
                  "type": "array",
                  "title": "Response Read Map Points Kpi Api V1 Map Points Kpi Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/dashboard/top-critical": {
      "get": {
        "tags": [
          "dashboard"
        ],
        "summary": "Read Top Critical",
        "description": "Get top critical stations sorted by score (api.v_top_critical_24h).",
        "operationId": "read_top_critical_api_v1_dashboard_top_critical_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/TopCriticalItem"
                  },
                  "type": "array",
                  "title": "Response Read Top Critical Api V1 Dashboard Top Critical Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/variables": {
      "get": {
        "tags": [
          "variables"
        ],
        "summary": "Get Variables",
        "description": "Get list of available variables from api.v_ref_variable view.\nReturns variable code, name, and unit.",
        "operationId": "get_variables_api_v1_variables_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array",
                  "title": "Response Get Variables Api V1 Variables Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/admin/entities/{entity_type}": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "List Entities",
        "description": "List entites like 'stations', 'bassins', 'barrages' from DB ref tables",
        "operationId": "list_entities_api_v1_admin_entities__entity_type__get",
        "parameters": [
          {
            "name": "entity_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entity Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/shp/upload": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Upload Shp",
        "description": "Upload a ZIP file containing SHP, SHX, DBF, etc.\nParse with GeoPandas and return GeoJSON preview.",
        "operationId": "upload_shp_api_v1_admin_shp_upload_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_shp_api_v1_admin_shp_upload_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/data-availability": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Scan Data Availability",
        "description": "Scan all entities and variables to determine data availability.\nReturns a comprehensive report of what data exists in the database.",
        "operationId": "scan_data_availability_api_v1_admin_data_availability_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "title": "Response Scan Data Availability Api V1 Admin Data Availability Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/stations-with-data": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Stations With Data",
        "description": "Get list of stations that have data for specific variable/source combination.",
        "operationId": "get_stations_with_data_api_v1_admin_stations_with_data_get",
        "parameters": [
          {
            "name": "variable_code",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Variable Code"
            }
          },
          {
            "name": "source_code",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Source Code"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "title": "Response Get Stations With Data Api V1 Admin Stations With Data Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ingest/history": {
      "get": {
        "tags": [
          "ingestion"
        ],
        "summary": "Get Ingestions",
        "operationId": "get_ingestions_api_v1_ingest_history_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {},
                  "title": "Response Get Ingestions Api V1 Ingest History Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ingest/analyze": {
      "post": {
        "tags": [
          "ingestion"
        ],
        "summary": "Analyze Ingestion",
        "operationId": "analyze_ingestion_api_v1_ingest_analyze_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_analyze_ingestion_api_v1_ingest_analyze_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Analyze Ingestion Api V1 Ingest Analyze Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ingest/execute": {
      "post": {
        "tags": [
          "ingestion"
        ],
        "summary": "Execute Ingestion",
        "operationId": "execute_ingestion_api_v1_ingest_execute_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_execute_ingestion_api_v1_ingest_execute_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IngestionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Health Check",
        "description": "Health check endpoint to verify backend and database connection.",
        "operationId": "health_check_api_v1_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Health Check Api V1 Health Get"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Basin": {
        "properties": {
          "id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "string",
                "format": "uuid"
              }
            ],
            "title": "Id"
          },
          "code": {
            "type": "integer",
            "title": "Code"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "level": {
            "type": "integer",
            "title": "Level"
          },
          "parent_basin_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Basin Id"
          },
          "geometry": {
            "anyOf": [
              {},
              {
                "type": "null"
              }
            ],
            "title": "Geometry"
          },
          "color": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color"
          }
        },
        "type": "object",
        "required": [
          "id",
          "code",
          "name",
          "level"
        ],
        "title": "Basin"
      },
      "Body_analyze_ingestion_api_v1_ingest_analyze_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "source_code": {
            "type": "string",
            "title": "Source Code",
            "default": "ABHS_RES"
          },
          "run_date": {
            "type": "string",
            "title": "Run Date"
          }
        },
        "type": "object",
        "required": [
          "file",
          "type"
        ],
        "title": "Body_analyze_ingestion_api_v1_ingest_analyze_post"
      },
      "Body_execute_ingestion_api_v1_ingest_execute_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "source_code": {
            "type": "string",
            "title": "Source Code",
            "default": "ABHS_RES"
          },
          "run_date": {
            "type": "string",
            "title": "Run Date"
          }
        },
        "type": "object",
        "required": [
          "file",
          "type"
        ],
        "title": "Body_execute_ingestion_api_v1_ingest_execute_post"
      },
      "Body_login_access_token_api_v1_login_access_token_post": {
        "properties": {
          "grant_type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "password"
              },
              {
                "type": "null"
              }
            ],
            "title": "Grant Type"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          },
          "scope": {
            "type": "string",
            "title": "Scope",
            "default": ""
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "client_secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Secret"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_login_access_token_api_v1_login_access_token_post"
      },
      "Body_upload_shp_api_v1_admin_shp_upload_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "dry_run": {
            "type": "boolean",
            "title": "Dry Run",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_shp_api_v1_admin_shp_upload_post"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "IngestionResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "logs": {
            "type": "string",
            "title": "Logs"
          },
          "ingestion_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ingestion Id"
          }
        },
        "type": "object",
        "required": [
          "status",
          "message",
          "logs"
        ],
        "title": "IngestionResponse"
      },
      "MapKPIItem": {
        "properties": {
          "station_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "string",
                "format": "uuid"
              }
            ],
            "title": "Station Id"
          },
          "station_name": {
            "type": "string",
            "title": "Station Name"
          },
          "station_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Station Type"
          },
          "lat": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lat"
          },
          "lon": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lon"
          },
          "severity": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Severity"
          },
          "score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Score"
          },
          "precip_obs_mm": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Precip Obs Mm"
          },
          "debit_obs_m3s": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Debit Obs M3S"
          },
          "lacher_m3s_latest": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lacher M3S Latest"
          },
          "volume_hm3_latest": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Volume Hm3 Latest"
          },
          "precip_cum_24h_mm": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Precip Cum 24H Mm"
          }
        },
        "type": "object",
        "required": [
          "station_id",
          "station_name"
        ],
        "title": "MapKPIItem"
      },
      "Station": {
        "properties": {
          "id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "string",
                "format": "uuid"
              }
            ],
            "title": "Id"
          },
          "code": {
            "type": "string",
            "title": "Code"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "basin_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Basin Id"
          },
          "lat": {
            "type": "number",
            "title": "Lat"
          },
          "lon": {
            "type": "number",
            "title": "Lon"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "active": {
            "type": "boolean",
            "title": "Active"
          }
        },
        "type": "object",
        "required": [
          "id",
          "code",
          "name",
          "lat",
          "lon",
          "type",
          "active"
        ],
        "title": "Station"
      },
      "TimeseriesPoint": {
        "properties": {
          "time": {
            "type": "string",
            "format": "date-time",
            "title": "Time"
          },
          "station_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "string",
                "format": "uuid"
              }
            ],
            "title": "Station Id"
          },
          "variable_code": {
            "type": "string",
            "title": "Variable Code"
          },
          "source_code": {
            "type": "string",
            "title": "Source Code"
          },
          "run_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Run Time"
          },
          "value": {
            "type": "number",
            "title": "Value"
          },
          "unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Unit"
          }
        },
        "type": "object",
        "required": [
          "time",
          "station_id",
          "variable_code",
          "source_code",
          "value"
        ],
        "title": "TimeseriesPoint"
      },
      "Token": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "token_type"
        ],
        "title": "Token"
      },
      "TopCriticalItem": {
        "properties": {
          "station_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "string",
                "format": "uuid"
              }
            ],
            "title": "Station Id"
          },
          "station_name": {
            "type": "string",
            "title": "Station Name"
          },
          "basin_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Basin Name"
          },
          "precip_cum_24h_mm": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Precip Cum 24H Mm"
          },
          "debit_max_24h_m3s": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Debit Max 24H M3S"
          },
          "lacher_max_24h_m3s": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lacher Max 24H M3S"
          },
          "severity": {
            "type": "string",
            "title": "Severity"
          },
          "score": {
            "type": "number",
            "title": "Score"
          }
        },
        "type": "object",
        "required": [
          "station_id",
          "station_name",
          "severity",
          "score"
        ],
        "title": "TopCriticalItem"
      },
      "User": {
        "properties": {
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "default": true
          },
          "is_superuser": {
            "type": "boolean",
            "title": "Is Superuser",
            "default": false
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "default": "analyst"
          },
          "id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id"
          }
        },
        "type": "object",
        "title": "User"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "OAuth2PasswordBearer": {
        "type": "oauth2",
        "flows": {
          "password": {
            "scopes": {},
            "tokenUrl": "/api/v1/login/access-token"
          }
        }
      }
    }
  }
}
